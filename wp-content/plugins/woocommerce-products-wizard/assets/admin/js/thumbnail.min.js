var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){"use strict";var e={},n=function(n,i){return this.element=n,this.options=t.extend({},e,i),this.init()};n.prototype.init=function(){return this.$element=t(this.element),this.$id=this.$element.find('[data-component="wcpw-thumbnail-id"]'),this.$image=this.$element.find('[data-component="wcpw-thumbnail-image"]'),this.$element.data("wcpw-thumbnail",this),this},n.prototype.openModal=function(){var t=this;return this.modalFrame?(this.modalFrame.open(),this):(this.modalFrame=wp.media.frames.downloadable_file=wp.media({title:"Select image",button:{text:"Select"},multiple:!1}),this.modalFrame.on("select",function(){return t.modalFrame.state().get("selection").map(function(e){var n=e.toJSON();if(!n.id)return null;var i={}.hasOwnProperty.call(n,"sizes")&&{}.hasOwnProperty.call(n.sizes,"thumbnail")?n.sizes.thumbnail.url:n.url;t.$image.html('<img src="'+i+'">'),t.$id.val(n.id)})}),this.modalFrame.open())},n.prototype.removeImage=function(){return this.$image.html(""),this.$id.val(""),this},t.fn.wcpwThumbnail=function(e){return this.each(function(){t.data(this,"plugin_wcpwThumbnail")||t.data(this,"plugin_wcpwThumbnail",new n(this,e))})};var i=function(){return t('[data-component="wcpw-thumbnail"]').each(function(){return t(this).wcpwThumbnail()})};t(document).ready(function(){return i()}).on("init.thumbnail.wcpwProductsWizard",function(){return i()}).on("click",'[data-component="wcpw-thumbnail-set"]',function(e){e.preventDefault();var n=t(this),i=n.closest('[data-component="wcpw-thumbnail"]');return i.data("wcpw-thumbnail")?i.data("wcpw-thumbnail").openModal():this}).on("click",'[data-component="wcpw-thumbnail-remove"]',function(e){e.preventDefault();var n=t(this),i=n.closest('[data-component="wcpw-thumbnail"]');return i.data("wcpw-thumbnail")?i.data("wcpw-thumbnail").removeImage():this})});