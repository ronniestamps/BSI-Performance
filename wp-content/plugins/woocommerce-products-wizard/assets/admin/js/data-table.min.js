var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){"use strict";var e={},a=function(a,n){return this.element=a,this.options=t.extend({},e,n),this.init()};a.prototype.init=function(){return this.$element=t(this.element),t.fn.sortable&&this.$element.sortable({items:'[data-component="wcpw-data-table-item"]'}),this.$element.data("wcpw-data-table",this),this},a.prototype.addItem=function(e){e=0!==e.length?e:this.$element.find('[data-component="wcpw-data-table-item"]:last');var a=this.$element.find('[data-component="wcpw-data-table-item-template"]');return 0===a.length&&(a=e),a.clone().insertAfter(e).attr("data-component","wcpw-data-table-item").find(":input").each(function(){var e=this,a=t(this);t.each(this.attributes,function(t,n){var i=n.name,o=n.value;return-1===i.indexOf("data-make")?e:a.attr(i.replace("data-make-",""),o)})}),this.recalculation(),t(document).trigger("itemAdded.dataTable.wcpwProductsWizard"),this},a.prototype.removeItem=function(e){return e.is(":only-child")?e.find(":input").val(""):e.remove(),this.recalculation(),t(document).trigger("itemRemoved.dataTable.wcpwProductsWizard"),this},a.prototype.recalculation=function(){return this.$element.find('[data-component="wcpw-data-table-item"]').each(function(e){return t(this).find(":input").each(function(){var a=t(this).attr("name");return a?t(this).attr("name",a.split("").reverse().join("").replace(/\]\d+\[/,"]"+e+"[").split("").reverse().join("")):this})})},t.fn.wcpwDataTable=function(e){return this.each(function(){t.data(this,"plugin_wcpwDataTable")||t.data(this,"plugin_wcpwDataTable",new a(this,e))})};var n=function(){return t('[data-component="wcpw-data-table"]').each(function(){return t(this).wcpwDataTable()})};t(document).ready(function(){return n()}).on("ajaxComplete.wcProductsWizard init.dataTable.wcpwProductsWizard",function(){return n()}).on("click",'[data-component="wcpw-data-table-item-add"]',function(){var e=t(this),a=e.closest('[data-component="wcpw-data-table"]');return a.data("wcpw-data-table")?a.data("wcpw-data-table").addItem(e.closest('[data-component="wcpw-data-table-item"]')):this}).on("click",'[data-component="wcpw-data-table-item-remove"]',function(){var e=t(this),a=e.closest('[data-component="wcpw-data-table"]');return a.data("wcpw-data-table")?a.data("wcpw-data-table").removeItem(e.closest('[data-component="wcpw-data-table-item"]')):this})});